import string

alfanumerico = [i for i in range(0,10)] + list(string.ascii_uppercase)

def validarCNPJ(cnpj):
    global validar
    cnpj = cnpj[:12]
    validar = False
    
    for i in range(0,2):
        valoresTeste = []
        if validar:
            cnpjContrario = cnpj[13::-1]
        else:
            cnpjContrario = cnpj[12::-1]

        for digito in cnpjContrario:
            if digito.isalpha():
                valoresTeste.append(alfanumerico.index(digito) + 7)
            else:
                valoresTeste.append(int(digito))

        contagem = 2
        calculo = []

        for j in valoresTeste:
            calculo.append(contagem * j)
            if contagem == 9:
                contagem = 2
                continue
            else:
                contagem += 1
        calculo = 11 - (sum(calculo) % 11) if sum(calculo) % 11 != 1 or sum(calculo) % 11 != 0 else 0

        cnpj += str(calculo)

        validar = True
    
    return cnpj
