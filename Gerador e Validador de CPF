import random
import os
import clipboard

def validador_cpf(cpf):
    validador = cpf[:9]

    for _ in range(2):
        soma = 0
        regressivo = len(validador) + 1

        for digito in validador:
            soma += int(digito) * regressivo
            regressivo -= 1

        resto = soma % 11

        if resto < 2:
            verificador = 0
        else:
            verificador = 11 - resto

        validador += str(verificador)

    return validador

def limpar():
    if os.name == 'nt':
        os.system('cls')
    else:
        os.system('clear')

def gerarCPF():
    limpar()
    cpf = ''
    for i in range(9):
        cpf += str(random.randint(0,9))
    cpf = validador_cpf(cpf)
    clipboard.copy(cpf)
    print(f'CPF gerado: {cpf}\n(Copiado automaticamente)')
    
while True:
    escolha = input("1) Gerar CPF \t2)Validar CPF\nEscolha: ")
    if escolha == '1':
        gerarCPF()
    elif escolha == '2':
        limpar()
        cpf = input("Digite um CPF: ").replace('-', '').replace('.', '')

        if validador_cpf(cpf) == cpf:
            print("CPF válido")
        else:
            print("CPF inválido")
