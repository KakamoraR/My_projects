import random
import os
import pyperclip

def validador_cpf(cpf):
    regressivo = 10
    validador = cpf[:9]

    for i in range(0, 2):
        digitos = 0

        for i in validador:
            digitos = (int(i) * regressivo) + digitos
            regressivo -= 1

        digitos = digitos % 11

        if str(digitos) in "10":
            verificador = 0
        else:
            verificador = 11 - digitos

        regressivo = 11
        validador += str(verificador)

    return validador

def limpar():
    if os.name == 'nt':
        os.system('cls')
    else:
        os.system('clear')
    
while True:
    escolha = input("1) Gerar CPF \t2)Validar CPF\nEscolha: ")
    if escolha == '1':
        limpar()
        cpf = ''
        for i in range(9):
            cpf += str(random.randint(0,9))
        cpf = validador_cpf(cpf)
        pyperclip.copy(cpf)
        print(f'CPF gerado: {cpf}\n(Copiado automaticamente)')
    elif escolha == '2':
        limpar()
        cpf = input("Digite um CPF: ").replace('-', '').replace('.', '')

        if validador_cpf(cpf) == cpf:
            print("CPF válido")
        else:
            print("CPF inválido")
    else:
        limpar()
        break
